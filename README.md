## HttpServer

实现一个简易的http服务器,可以基于CGI程序实现动态页面的计算

****
### HTTP服务器

#### 模块划分
  * 初始化模块（建立TCP连接）
  * 响应请求模块（来一个连接创建一个线程去处理）
    - 服务器读取请求并解析（解析字符串）
    - 根据请求内容进行计算
        - 处理静态文件（直接将静态文件内容返回）
        - 处理动态页面（使用CGI的方法实现动态计算生成页面）
    - 把响应的结果返回回给客户端（操作和拼接字符串）

#### 实现的功能

1. 通过浏览器，发送一个标准的HTTP请求，服务器可以返回一个标准的HTTP响应。
2. 如果请求的是一个html网页，那么就能在浏览器中看到对应的页面。
3. 服务器能够接收标准的HTTP请求:
    - GET方法
    - POST方法
2. 服务器能够根据请求做出一个标准的HTTP响应:
    - 能够根据url返回一个服务器上的静态文件（html\css\JavaScript等...）。
    - 根据请求中的参数（url，body）动态生成一个页面（基于CGI的方法）。

### 关于CGI协议

1. 如果服务器收到的请求是一个GET并带有QUERY_STRING或者是POST方法的CGI逻辑。
2. 这时,服务器创建一个子进程，子进程通过exec执行一个本地的可执行程序，通过这个可执行程序完成动态页面的计算。
3. 但是这里存在到一个重要的问题：
    - 子进程需要知道HTTP请求具体什么样子。
        - 需要知道进行替换哪个可执行文件。
        - 需要知道HTTP请求的方法是什么。
        - 需要知道QUERY_STRING是什么。
        - 需要知道body是什么
    - 子进程也要把计算完毕的结果反馈给父进程
4. 怎么解决上边的问题:
   - 建立两个匿名管道来实现父子进程的双向通信,从而传输body
   - 使用环境变量去传输方法
